{"version":3,"sources":["webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useSuggestion.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextListeners.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/PlainTextComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useComposerFunctions.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/usePlainTextInitialization.ts","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/components/Emoji.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/SendWysiwygComposer.tsx","webpack:///./node_modules/matrix-react-sdk/src/components/views/rooms/wysiwyg_composer/hooks/useWysiwygSendActionHandler.ts"],"names":["useSuggestion","editorRef","setText","_suggestionData$mappe","suggestionData","setSuggestionData","useState","suggestion","mappedSuggestion","handleCommand","replacementText","_document$getSelectio2","node","newContent","textContent","document","getSelection","setBaseAndExtent","length","processCommand","handleMention","href","displayName","attributes","processMention","handleAtRoomMention","onSelect","_selection$anchorNode","selection","current","isCollapsed","anchorNode","nodeName","currentNode","anchorOffset","currentOffset","firstTextNode","createNodeIterator","NodeFilter","SHOW_TEXT","nextNode","isFirstTextNode","foundSuggestion","text","offset","startSliceIndex","endSliceIndex","shouldDecrementStartIndex","shouldIncrementEndIndex","wordAtCursor","slice","firstChar","charAt","restOfString","keyChar","type","getMappedSuggestion","startOffset","endOffset","findSuggestionInText","processSelectionChange","_node$textContent","_node$textContent$sli","_node$textContent2","_document$getSelectio","linkElement","createElement","linkTextNode","createTextNode","setAttribute","attr","value","entries","appendChild","leadingTextNode","trailingTextNode","parentNode","isNotNull","insertBefore","removeChild","index","test","usePlainTextListeners","initialContent","onChange","onSend","eventRelation","roomContext","useRoomContext","mxClient","useMatrixClientContext","ref","useRef","autocompleteRef","content","setContent","send","useCallback","innerHTML","isNotUndefined","currentRefContent","onInput","event","target","HTMLDivElement","onPaste","nativeEvent","imagePasteWasHandled","isEventToHandleAsClipboardEvent","data","ClipboardEvent","clipboardData","dataTransfer","handleClipboardEvent","preventDefault","enterShouldSend","useSettingValue","onKeyDown","handleEventWithAutocomplete","key","Key","ENTER","sendModifierIsPressed","IS_MAC","metaKey","ctrlKey","shiftKey","stopPropagation","onBeforeInput","PlainTextComposer","className","disabled","children","placeholder","leftComponent","rightComponent","composerFunctions","useMemo","clear","insertText","focusOffset","setSelection","firstChild","focusNode","isForward","useComposerFunctions","useEffect","usePlainTextInitialization","useSetCursorPosition","isFocused","onFocus","useIsFocused","computedPlaceholder","undefined","React","classNames","onBlur","WysiwygAutocomplete","Editor","Emoji","menuPosition","EmojiButton","addEmoji","emoji","dis","dispatch","action","Action","ComposerInsert","timelineRenderingType","Content","forwardRef","composerElement","composerContext","useComposerContext","timeoutId","handler","payload","_payload$context","context","TimelineRenderingType","Room","FocusAComposer","FocusSendMessageComposer","focusComposer","ClearAndFocusSendMessageComposer","composerType","ComposerType","Send","userId","then","useDispatcher","defaultDispatcher","useWysiwygSendActionHandler","SendWysiwygComposer","_ref","isRichTextEnabled","e2eStatus","props","_objectWithoutProperties","_excluded","Composer","WysiwygComposer","defaultContextValue","getDefaultContextValue","ComposerContext","Provider","_extends","E2EIcon","status"],"mappings":"mVAmDO,SAASA,EACZC,EACAC,GAOF,IAAAC,EACE,MAAOC,EAAgBC,GAAqBC,mBAA0B,MAetE,MAAO,CACHC,WAA4C,QAAlCJ,EAAEC,aAAc,EAAdA,EAAgBI,wBAAgB,IAAAL,IAAI,KAChDM,cALmBC,GAmIpB,SACHA,EACAN,EACAC,EACAH,GACI,IAAAS,EAEJ,GAAuB,OAAnBP,EACA,OAGJ,MAAM,KAAEQ,GAASR,EAIXS,EAAc,GAAEH,KACtBE,EAAKE,YAAcD,EAII,QAAvBF,EAAAI,SAASC,sBAAc,IAAAL,GAAvBA,EAAyBM,iBAAiBL,EAAMC,EAAWK,OAAQN,EAAMC,EAAWK,QACpFhB,EAAQW,GACRR,EAAkB,KACtB,CAzJQc,CAAeT,EAAiBN,EAAgBC,EAAmBH,GAKnEkB,cAZkBA,CAACC,EAAcC,EAAqBC,IACtDC,EAAeH,EAAMC,EAAaC,EAAYnB,EAAgBC,EAAmBH,GAYjFuB,oBAVyBF,GACzBC,EAAe,IAAK,QAASD,EAAYnB,EAAgBC,EAAmBH,GAU5EwB,SAhBaA,IA2Bd,SACHzB,EACAI,GACI,IAAAsB,EACJ,MAAMC,EAAYb,SAASC,eAG3B,GAC0B,OAAtBf,EAAU4B,SACI,OAAdD,IACCA,EAAUE,aACwB,WAAf,QAApBH,EAAAC,EAAUG,kBAAU,IAAAJ,OAAA,EAApBA,EAAsBK,UAGtB,YADA3B,EAAkB,MAKtB,MAAQ0B,WAAYE,EAAaC,aAAcC,GAAkBP,EAGjE,GAAgC,OAA5BK,EAAYnB,YAEZ,YADAT,EAAkB,MAItB,MAAM+B,EAAgBrB,SAASsB,mBAAmBpC,EAAU4B,QAASS,WAAWC,WAAWC,WACrFC,EAAkBR,IAAgBG,EAClCM,EAwHH,SACHC,EACAC,EACAH,GAGA,GAAIG,EAAS,GAAKA,EAASD,EAAKzB,OAC5B,OAAO,KAKX,IAAI2B,EAAkBD,EAClBE,EAAgBF,EAIpB,KAAOG,EAA0BJ,EAAME,IACnCA,IAKJ,KAAOG,EAAwBL,EAAMG,IACjCA,IAIJ,MAAMG,EAAeN,EAAKO,MAAML,EAAiBC,GAC3CtC,EA4DH,SAA6BmC,GAChC,MAAMQ,EAAYR,EAAKS,OAAO,GACxBC,EAAeV,EAAKO,MAAM,GAEhC,OAAQC,GACJ,IAAK,IACD,MAAO,CAAEG,QAASH,EAAWR,KAAMU,EAAcE,KAAM,WAC3D,IAAK,IACL,IAAK,IACD,MAAO,CAAED,QAASH,EAAWR,KAAMU,EAAcE,KAAM,WAC3D,QACI,OAAO,KAEnB,CAzE6BC,CAAoBP,GAU7C,GACyB,OAArBzC,GAC2B,YAA1BA,EAAiB+C,QACZd,GAAuC,IAApBI,GAAyBC,IAAkBH,EAAKzB,QAEzE,OAAO,KAGX,MAAO,CAAEV,mBAAkBiD,YAAaZ,EAAiBa,UAAWb,EAAkBI,EAAa/B,OACvG,CAxK4ByC,CAAqB1B,EAAYnB,YAAaqB,EAAeM,GAGrF,GAAwB,OAApBC,EAEA,YADArC,EAAkB,MAItBA,EAAkB,CACdG,iBAAkBkC,EAAgBlC,iBAClCI,KAAMqB,EACNwB,YAAaf,EAAgBe,YAC7BC,UAAWhB,EAAgBgB,WAEnC,CArEiCE,CAAuB3D,EAAWI,GAkBnE,CAgEO,SAASmB,EACZH,EACAC,EACAC,EACAnB,EACAC,EACAH,GACI,IAAA2D,EAAAC,EAAAC,EAAAC,EAEJ,GAAuB,OAAnB5D,EACA,OAGJ,MAAM,KAAEQ,GAASR,EAGX6D,EAAclD,SAASmD,cAAc,KACrCC,EAAepD,SAASqD,eAAe9C,GAC7C2C,EAAYI,aAAa,OAAQhD,GACjC4C,EAAYI,aAAa,kBAAmB,SAE5C,IAAK,MAAOC,EAAMC,KAAUhD,EAAWiD,UACnCP,EAAYI,aAAaC,EAAMC,GAGnCN,EAAYQ,YAAYN,GAGxB,MAAMO,EAAkB3D,SAASqD,gBAA+B,QAAhBP,EAAAjD,EAAKE,mBAAW,IAAA+C,OAAA,EAAhBA,EAAkBX,MAAM,EAAG9C,EAAeqD,eAAgB,KACpGkB,EAAmB5D,SAASqD,eAAgB,IAAoD,QAAnDN,EAAkB,QAAlBC,EAAEnD,EAAKE,mBAAW,IAAAiD,OAAA,EAAhBA,EAAkBb,MAAM9C,EAAesD,kBAAU,IAAAI,IAAI,MAGpGc,EAAahE,EAAKgE,WACpBC,YAAUD,KACVA,EAAWE,aAAaJ,EAAiB9D,GACzCgE,EAAWE,aAAab,EAAarD,GACrCgE,EAAWE,aAAaH,EAAkB/D,GAC1CgE,EAAWG,YAAYnE,IAIJ,QAAvBoD,EAAAjD,SAASC,sBAAc,IAAAgD,GAAvBA,EAAyB/C,iBAAiB0D,EAAkB,EAAGA,EAAkB,GAGjFzE,IACAG,EAAkB,KACtB,CAyGA,SAAS0C,EAA0BJ,EAAcqC,GAE7C,QAAIA,GAAS,KAIL,KAAKC,KAAKtC,EAAKqC,EAAQ,GACnC,CAUA,SAAShC,EAAwBL,EAAcqC,GAE3C,QAAIA,GAASrC,EAAKzB,UAGV,KAAK+D,KAAKtC,EAAKqC,GAC3B,C,YC/QO,SAASE,EACZC,EACAC,EACAC,EACAC,GAgBA,MAAMC,EAAcC,cACdC,EAAWC,cAEXC,EAAMC,iBAA8B,MACpCC,EAAkBD,iBAA4B,OAC7CE,EAASC,GAAczF,mBAA6B6E,GAErDa,EAAOC,uBAAY,KACjBN,EAAI9D,UACJ8D,EAAI9D,QAAQqE,UAAY,IAE5Bb,YAAU,GACX,CAACM,EAAKN,IAEHnF,EAAU+F,uBACXtD,IACG,GAAIwD,YAAexD,GACfoD,EAAWpD,GACXyC,WAAWzC,QACR,GAAIkC,YAAUc,IAAQd,YAAUc,EAAI9D,SAAU,CAEjD,MAAMuE,EAAoBT,EAAI9D,QAAQqE,UACtCH,EAAWK,GACXhB,WAAWgB,EACf,IAEJ,CAAChB,EAAUO,KAMT,WAAEpF,EAAU,SAAEmB,EAAQ,cAAEjB,EAAa,cAAEW,EAAa,oBAAEK,GAAwBzB,EAAc2F,EAAKzF,GAEjGmG,EAAUJ,uBACXK,IACoBA,EAAMC,kBA5ENC,gBA6EbtG,EAAQoG,EAAMC,OAAOL,UACzB,GAEJ,CAAChG,IAGCuG,EAAUR,uBACXK,IACG,MAAM,YAAEI,GAAgBJ,EACxB,IAAIK,GAAuB,EAE3B,GAAIC,YAAgCF,GAAc,CAC9C,MAAMG,EACFH,aAAuBI,eAAiBJ,EAAYK,cAAgBL,EAAYM,aACpFL,EAAuBM,YAAqBP,EAAaG,EAAMtB,EAAaE,EAAUH,EAC1F,CAGIqB,EACAL,EAAMY,iBAENb,EAAQC,EACZ,GAEJ,CAAChB,EAAeG,EAAUY,EAASd,IAGjC4B,GAAmBC,YAAyB,wCAC5CC,EAAYpB,uBACbK,IAGG,IADgCgB,YAA4BzB,EAAiBS,IAMzEA,EAAMiB,MAAQC,IAAIC,MAAO,CAEzB,MAAMC,EAAwBC,IAASrB,EAAMsB,QAAUtB,EAAMuB,QAGzDV,IAAoBb,EAAMwB,WAC1BxB,EAAMY,iBACNZ,EAAMyB,kBACN/B,MAICmB,GAAmBO,IACpBpB,EAAMY,iBACNZ,EAAMyB,kBACN/B,IAER,IAEJ,CAACH,EAAiBsB,EAAiBnB,IAGvC,MAAO,CACHL,MACAE,kBACAmC,cAAevB,EACfJ,UACAI,UACAY,YACAvB,UACAC,WAAY7F,EACZK,aACAmB,WACAjB,gBACAW,gBACAK,sBAER,C,kCC3IO,SAASwG,GAAkB,UAC9BC,EAAS,SACTC,GAAW,EAAK,OAChB9C,EAAM,SACND,EAAQ,SACRgD,EAAQ,YACRC,EAAW,eACXlD,EAAc,cACdmD,EAAa,eACbC,EAAc,cACdjD,IAEA,MACIK,IAAK1F,EAAS,gBACd4F,EAAe,cACfmC,EAAa,QACb3B,EAAO,QACPI,EAAO,UACPY,EAAS,QACTvB,EAAO,WACPC,EAAU,WACVxF,EAAU,SACVmB,EAAQ,cACRjB,EAAa,cACbW,EAAa,oBACbK,GACAyD,EAAsBC,EAAgBC,EAAUC,EAAQC,GAEtDkD,EClDH,SACH7C,EACAI,GAKA,OAAO0C,mBACH,KAAM,CACFC,MAAOA,KACC/C,EAAI9D,UACJ8D,EAAI9D,QAAQqE,UAAY,GAC5B,EAEJyC,WAAahG,IACT,MAAMf,EAAYb,SAASC,eAE3B,GAAI2E,EAAI9D,SAAWD,EAAW,CAC1B,MAAMkE,EAAUH,EAAI9D,QAAQqE,WACtB,aAAEhE,EAAY,YAAE0G,GAAgBhH,EACtC+D,EAAI9D,QAAQqE,UAAa,GAAEJ,EAAQ5C,MAAM,EAAGhB,KAAgBS,IAAOmD,EAAQ5C,MAAM0F,KACjFC,YAAa,CACT9G,WAAY4D,EAAI9D,QAAQiH,WACxB5G,aAAcA,EAAeS,EAAKzB,OAClC6H,UAAWpD,EAAI9D,QAAQiH,WACvBF,YAAaA,EAAcjG,EAAKzB,OAChC8H,WAAW,IAEfjD,EAAWJ,EAAI9D,QAAQqE,UAC3B,MAGR,CAACP,EAAKI,GAEd,CDgB8BkD,CAAqBhJ,EAAW8F,IEpDvD,SAAoCZ,EAAiB,GAAIQ,GAC5DuD,qBAAU,KAEFvD,EAAI9D,UACJ8D,EAAI9D,QAAQqE,UAAYf,EAC5B,GACD,CAACQ,EAAKR,GACb,CF8CIgE,CAA2BhE,EAAgBlF,GAC3CmJ,YAAqBjB,EAAUlI,GAC/B,MAAM,UAAEoJ,EAAS,QAAEC,GAAYC,cACzBC,GAAwB1D,GAAWuC,QAAgBoB,EAEzD,OACIC,IAAAxF,cAAA,OACI,cAAY,oBACZgE,UAAWyB,IAAWzB,EAAW,CAAE,CAAE,GAAEA,aAAsBmB,IAC7DC,QAASA,EACTM,OAAQN,EACRtB,cAAeA,EACf3B,QAASA,EACTI,QAASA,EACTY,UAAWA,EACX3F,SAAUA,GAEVgI,IAAAxF,cAAC2F,IAAmB,CAChBlE,IAAKE,EACLtF,WAAYA,EACZa,cAAeA,EACfX,cAAeA,EACfgB,oBAAqBA,IAEzBiI,IAAAxF,cAAC4F,IAAM,CACHnE,IAAK1F,EACLkI,SAAUA,EACVG,cAAeA,EACfC,eAAgBA,EAChBF,YAAamB,IAEhBpB,aAAQ,EAARA,EAAWnI,EAAWuI,GAGnC,C,uBG5EO,SAASuB,GAAM,aAAEC,IACpB,MAAMzE,EAAcC,cAEpB,OACIkE,IAAAxF,cAAC+F,IAAW,CACRD,aAAcA,EACdE,SAAWC,IACPC,IAAIC,SAAgC,CAChCC,OAAQC,IAAOC,eACf7H,KAAMwH,EACNM,sBAAuBlF,EAAYkF,yBAEhC,IAIvB,C,yDCXMC,EAAUC,sBAAsC,UAClD,SAAExC,GAAW,EAAK,kBAAEK,GACpBmC,GAGA,OCVG,SACHxC,EACAyC,EACApC,GAEA,MAAMjD,EAAcC,cACdqF,EAAkBC,cAClBC,EAAYnF,iBAAsB,MAElCoF,EAAU/E,uBACXgF,IAA2B,IAAAC,EAGxB,GAAI/C,GAAayC,YAAiB/I,QAAS,OAE3C,MAAMsJ,EAAyB,QAAlBD,EAAGD,EAAQE,eAAO,IAAAD,IAAIE,IAAsBC,KAEzD,OAAQJ,EAAQX,QACZ,IAAK,iBACL,KAAKC,IAAOe,eACZ,KAAKf,IAAOgB,yBACRC,YAAcZ,EAAiBO,EAAS5F,EAAawF,GACrD,MACJ,KAAKR,IAAOkB,iCAER,GAAIR,EAAQR,wBAA0BlF,EAAYkF,sBAAuB,MAEzEjC,EAAkBE,QAClB8C,YAAcZ,EAAiBO,EAAS5F,EAAawF,GACrD,MACJ,KAAKR,IAAOC,eACR,GAAIS,EAAQR,wBAA0BlF,EAAYkF,sBAAuB,MACzE,GAAIQ,EAAQS,eAAiBC,IAAaC,KAAM,MAE5CX,EAAQY,QAEDZ,EAAQ3E,OAER2E,EAAQtI,MACfkG,YAAagC,EAAgBjJ,WAAWkK,MAAK,IAAMtD,EAAkBG,WAAWsC,EAAQtI,QAGpG,GAEJ,CAACwF,EAAUyC,EAAiBrF,EAAaiD,EAAmBqC,IAGhEkB,YAAcC,IAAmBhB,EACrC,CDvCIiB,CAA4B9D,EAAUwC,EAA6CnC,GAC5E,IACX,IAee,SAAS0D,EAAmBC,GAKD,IALE,kBACxCC,EAAiB,UACjBC,EAAS,aACTrC,GAEuBmC,EADpBG,EAAKC,IAAAJ,EAAAK,GAER,MAAMC,EAAWL,EAAoBM,IAAkBzE,EACjD0E,EAAsB/G,iBAAOgH,YAAuB,CAAEtH,cAAegH,EAAMhH,iBAEjF,OACIoE,IAAAxF,cAAC2I,IAAgBC,SAAQ,CAACvI,MAAOoI,EAAoB9K,SACjD6H,IAAAxF,cAACuI,EAAQM,IAAA,CACL7E,UAAU,yBACVI,cAAe+D,GAAa3C,IAAAxF,cAAC8I,IAAO,CAACC,OAAQZ,IAC7C9D,eAAgBmB,IAAAxF,cAAC6F,EAAK,CAACC,aAAcA,KACjCsC,IAEH,CAAC3G,EAAK6C,IACHkB,IAAAxF,cAACwG,EAAO,CAACvC,SAAUmE,EAAMnE,SAAUxC,IAAKA,EAAK6C,kBAAmBA,MAKpF,C","file":"bundles/e1d4beacb839288093f6/43.js","sourceRoot":""}